import{j as s,r as a,B as i}from"./index-U9zXMYpD.js";import{r as E,i as P,u as V,B,c as M,I as m,d as K,D as _,e as k,f as z,g as w,C as Y,T as r,a as h,L as F,M as q,A as l}from"./index.esm-Cgk_DoHN.js";var o={},J=P;Object.defineProperty(o,"__esModule",{value:!0});var b=o.default=void 0,Z=J(E()),W=s;b=o.default=(0,Z.default)((0,W.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete");const Q=()=>{const[j,R]=a.useState([]),[S,d]=a.useState(!1),[I,c]=a.useState(!1),[u,U]=a.useState(""),[A,L]=a.useState(null),[x,p]=a.useState(null),t=async()=>{d(!0);const e=await l.post("admin/get-all-students");R(e.data),d(!1),c(!1)},C=async()=>{if(u.trim()=="")i("Name is Required",{type:"error"});else if(x==null)i("Please select your Madrasa",{type:"error"});else if(A===null)i("Class is Required",{type:"error"});else{c(!0);const e={Name:u,Class:A,Madrasa:x};l.post("admin/create-user",e).then(()=>t())}},H=async e=>{l.post("admin/create-user",e==null?void 0:e.values).then(()=>t())};a.useEffect(()=>(t(),()=>{}),[]);const N=[{accessorKey:"Name",header:"Student Name",muiTableHeadCellProps:{style:{color:"black"}},enableHiding:!0},{accessorKey:"Class",header:"Class",muiTableHeadCellProps:{style:{color:"black"}},enableHiding:!0,size:30,editSelectOptions:f,editVariant:"select"},{accessorKey:"Madrasa",header:"Madrasa",editVariant:"select",editSelectOptions:g,muiTableHeadCellProps:{style:{color:"black"}},enableHiding:!0,size:30},{accessorFn:e=>e==null?void 0:e.isPass,id:"isPass",header:"Result",enableEditing:!1,Header:s.jsx("i",{style:{color:"black"},children:"Result"}),Cell:({cell:e})=>e.getValue()?s.jsx("i",{style:{color:"blue"},children:"Pass"}):s.jsx("i",{style:{color:"red"},children:"fail"})},{accessorKey:"_id",header:"id",muiTableHeadCellProps:{style:{color:"black"}},enableHiding:!0,enableEditing:!1}],T=e=>{window.confirm("Are you sure you want to delete this user?")&&v(e.original._id)},v=e=>{l.post("admin/delete-user",{_id:e}).then(()=>t())},y=e=>{console.log(e),l.post("admin/edit-user",e.values).then(()=>{t(),e.exitEditingMode(null)})},D=V({columns:N,data:j.reverse(),enableColumnActions:!0,enableEditing:!0,enableColumnFilters:!0,enablePagination:!0,enableSorting:!0,enableRowSelection:!0,initialState:{density:"compact"},renderRowActions:({row:e,table:n})=>s.jsxs(B,{sx:{display:"flex",gap:"1rem"},children:[s.jsx(M,{title:"Edit",children:s.jsx(m,{onClick:()=>n.setEditingRow(e),children:s.jsx(K,{})})}),s.jsx(M,{title:"Delete",children:s.jsx(m,{color:"error",onClick:()=>T(e),children:s.jsx(b,{})})})]}),renderEditRowDialogContent:({table:e,row:n,internalEditComponents:O})=>s.jsxs(s.Fragment,{children:[s.jsx(_,{variant:"h3",children:"Edit User"}),s.jsxs(k,{sx:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[O," "]}),s.jsx(z,{children:s.jsx(w,{variant:"text",table:e,row:n})})]}),onEditingRowSave:y,onCreatingRowSave:H,state:{isLoading:S}});return s.jsxs(Y,{children:[s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsx("div",{children:s.jsx("strong",{className:"text-rose-500 mt-6",children:"Admin Only"})}),s.jsxs("div",{className:"bg-gray-100  p-3 ",children:[s.jsxs("div",{className:"flex flex-rew  gap-4 flex-wrap mb-4",children:[s.jsx(r,{helperText:Error&&"Pleas fill all Field",size:"small",label:"Student Name",variant:"filled",onChange:e=>U(e.target.value)}),s.jsx(h,{onSelect:e=>p(e.target.value),size:"small",disablePortal:!0,options:g,onClose:()=>p(null),sx:{width:300},renderInput:e=>s.jsx(r,{...e,label:"MADRASA"})}),s.jsx(h,{size:"small",onSelect:e=>L(e.target.value),disablePortal:!0,options:f,sx:{width:100},renderInput:e=>s.jsx(r,{...e,label:"Class"})})]}),s.jsx("span",{children:s.jsx(F,{onClick:C,size:"small",loading:I,loadingIndicator:"Loadingâ€¦",variant:"outlined",children:"Upload Result"})})]}),s.jsx("br",{})]}),s.jsx("section",{children:s.jsx(q,{table:D})})]})},g=[" 1081 NOORUL ISLAM THAZHE THIRUVAMBADY "," 1391 HAYATHUL ISLAM KOODARANJI "," 1488 MUNAVVIRUL ISLAM THIRUVAMBADI TOWN ","2494 NUSRATHUL ISLAM ANAKKAMPOYIL ","2831 MASLAKUL ISLAM PUNNAKKAL ","2874 MUNAVVIRUL ISLAM  KULIRAMUTTI","3400 MUNAVVIRUL ISLAM   KOODARANJI"," 4200 MIFTHAHUL ULOOM PAMBIZHANJA PARA "," 4813 MADRASSATHUL MUHAMMADIYYA MURAMBATHI ","   6625 IHYAUL ULOOM  MARANCHATTI"," 7806 MUNAVVIRUL ISLAM PERUMBOOLA"," 10608 NOORUL HUDA SECONDARY MADRASA"],f=["1","2","3","4","5","6","7","8","9","10","11","12"];export{Q as default};
